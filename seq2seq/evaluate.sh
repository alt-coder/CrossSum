#!/bin/bash
ROOT_DATASET_DIR="dataset"
RESULTS_DIR="evaluation_results"
REQUIRED_PAIRS="ukrainian-english portuguese-arabic amharic-russian punjabi-english hindi-urdu nepali-arabic indonesian-arabic russian-somali arabic-swahili russian-uzbek bengali-hindi spanish-hindi punjabi-hindi chinese_simplified-pashto hindi-bengali azerbaijani-chinese_simplified chinese_simplified-scottish_gaelic turkish-english japanese-english swahili-arabic russian-gujarati thai-russian russian-spanish english-serbian_cyrillic arabic-urdu arabic-scottish_gaelic amharic-chinese_simplified gujarati-arabic somali-arabic hindi-portuguese russian-welsh russian-french english-pashto azerbaijani-arabic chinese_simplified-persian arabic-french korean-hindi scottish_gaelic-english russian-pashto vietnamese-arabic arabic-gujarati arabic-serbian_cyrillic scottish_gaelic-hindi chinese_simplified-serbian_cyrillic english-spanish vietnamese-russian serbian_cyrillic-arabic russian-tamil marathi-russian urdu-english english-amharic arabic-amharic japanese-arabic chinese_simplified-amharic amharic-arabic russian-marathi arabic-english english-chinese_simplified hindi-indonesian russian-azerbaijani hindi-marathi arabic-japanese chinese_simplified-burmese french-chinese_simplified english-nepali hindi-vietnamese serbian_cyrillic-hindi amharic-english uzbek-chinese_simplified russian-japanese russian-vietnamese hindi-russian english-vietnamese burmese-russian yoruba-english arabic-somali sinhala-english vietnamese-chinese_simplified pashto-english hindi-uzbek english-somali hindi-sinhala persian-hindi chinese_simplified-uzbek indonesian-chinese_simplified sinhala-hindi chinese_simplified-thai chinese_simplified-yoruba gujarati-chinese_simplified chinese_simplified-bengali portuguese-russian arabic-chinese_simplified hindi-arabic yoruba-chinese_simplified tamil-arabic punjabi-arabic korean-english gujarati-english urdu-hindi turkish-chinese_simplified chinese_simplified-welsh chinese_simplified-french french-english russian-thai english-japanese ukrainian-arabic english-bengali swahili-chinese_simplified chinese_simplified-indonesian amharic-hindi english-persian english-punjabi portuguese-english thai-hindi russian-persian english-sinhala arabic-welsh chinese_simplified-azerbaijani hindi-nepali hindi-tamil turkish-arabic bengali-arabic nepali-chinese_simplified english-thai arabic-sinhala hindi-japanese urdu-arabic arabic-russian hindi-azerbaijani chinese_simplified-urdu ukrainian-hindi bengali-chinese_simplified marathi-arabic tamil-english hindi-punjabi punjabi-russian chinese_simplified-spanish russian-bengali chinese_simplified-marathi russian-amharic korean-arabic english-swahili serbian_cyrillic-russian hindi-english chinese_simplified-japanese swahili-hindi bengali-russian hindi-hindi spanish-chinese_simplified english-english persian-russian japanese-chinese_simplified urdu-russian azerbaijani-english hindi-somali ukrainian-chinese_simplified arabic-spanish sinhala-russian chinese_simplified-punjabi arabic-korean chinese_simplified-korean chinese_simplified-vietnamese english-hindi chinese_simplified-sinhala serbian_cyrillic-english hindi-french arabic-azerbaijani hindi-ukrainian english-indonesian arabic-punjabi russian-hindi chinese_simplified-russian russian-urdu indonesian-russian arabic-portuguese portuguese-hindi arabic-arabic spanish-russian persian-chinese_simplified hindi-persian marathi-chinese_simplified arabic-nepali arabic-burmese russian-nepali russian-russian english-burmese somali-russian welsh-chinese_simplified arabic-yoruba russian-serbian_cyrillic arabic-persian arabic-ukrainian english-uzbek french-hindi chinese_simplified-gujarati burmese-english hindi-swahili english-arabic japanese-hindi persian-english bengali-english thai-english indonesian-hindi chinese_simplified-portuguese azerbaijani-russian chinese_simplified-hindi turkish-russian somali-chinese_simplified chinese_simplified-chinese_simplified marathi-hindi gujarati-hindi english-portuguese arabic-turkish russian-chinese_simplified pashto-chinese_simplified chinese_simplified-tamil scottish_gaelic-chinese_simplified uzbek-hindi burmese-arabic uzbek-english hindi-turkish yoruba-arabic russian-burmese english-urdu arabic-thai arabic-pashto russian-yoruba burmese-hindi arabic-tamil french-arabic hindi-korean azerbaijani-hindi nepali-hindi chinese_simplified-nepali chinese_simplified-arabic spanish-arabic russian-swahili chinese_simplified-turkish chinese_simplified-english russian-korean welsh-russian pashto-russian hindi-serbian_cyrillic tamil-chinese_simplified gujarati-russian arabic-marathi thai-arabic korean-chinese_simplified persian-arabic arabic-uzbek russian-sinhala hindi-thai hindi-burmese somali-hindi english-welsh uzbek-russian hindi-spanish pashto-arabic vietnamese-hindi scottish_gaelic-russian english-marathi arabic-bengali swahili-russian chinese_simplified-somali russian-portuguese scottish_gaelic-arabic indonesian-english marathi-english arabic-hindi nepali-russian chinese_simplified-swahili russian-arabic spanish-english english-gujarati thai-chinese_simplified hindi-amharic hindi-scottish_gaelic yoruba-russian urdu-chinese_simplified tamil-hindi somali-english russian-turkish swahili-english french-russian hindi-yoruba hindi-pashto uzbek-arabic sinhala-arabic english-turkish hindi-welsh hindi-chinese_simplified punjabi-chinese_simplified russian-indonesian welsh-english english-scottish_gaelic english-russian english-french nepali-english turkish-hindi english-korean russian-english serbian_cyrillic-chinese_simplified russian-ukrainian burmese-chinese_simplified tamil-russian arabic-vietnamese english-tamil arabic-indonesian welsh-hindi english-azerbaijani chinese_simplified-ukrainian yoruba-hindi portuguese-chinese_simplified vietnamese-english pashto-hindi japanese-russian russian-scottish_gaelic korean-russian english-yoruba ukrainian-russian russian-punjabi hindi-gujarati sinhala-chinese_simplified english-ukrainian welsh-arabic"
MODEL_DIR="output/m2m_multistage_fixed_tgt_32_with_native/checkpoint-25000"

suffix=$(basename $(realpath $MODEL_DIR/..))
python evaluator.py \
    --dataset_dir "${ROOT_DATASET_DIR}" \
    --output_dir "${RESULTS_DIR}/${suffix}" \
    --evaluation_type xlingual \
    --data_type "test" \
    --xlingual_summarization_model_name_or_path $MODEL_DIR \
    --required_pairs $REQUIRED_PAIRS